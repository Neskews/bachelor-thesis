<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="../../../src/jquery.js"></script>
  </head>
  <body>
    <script type="text/javascript">

      const U = 'https://api.twitch.tv/kraken/users?login=dakotaz';
      const K = 'Accept';
      const C = 'customtype';
      const V = 'application/vnd.twitchtv.v5+json';
      const M = 'GET';
      const S = '.responses';
      const P = o => JSON.stringify(o);

      function loadJq() {
        let o = {};
        o[C] = V;
        $.ajax(U, {
          accepts: o,
          converters: {
            'text customtype': result => result
          },
          dataType: C,
          complete: (response, status, bla) => {
            $(S).append(`<h4>[jQuery] responded with</h4> ${response.status}`)
          }
        })
      }

      function loadEcmaPost() {
        const X = new XMLHttpRequest();
        X.open(M, U);
        X.setRequestHeader(K, V)
        X.send();

        X.onload = () =>  $(S).append(`<h4>[XMLHttpRequest] responded with</h4> ${X.status}`);
      }
    </script>

    <h4>Expected status code: 400</h4>
    <button onclick="loadJq()">run jQuery</button>
    <button onclick="loadEcmaPost()">run XMLHttpRequest</button>
    <button type="button" name="button" onclick="window.location.reload()">reset</button>

    <div class="responses">

    </div>
  </body>
</html>
